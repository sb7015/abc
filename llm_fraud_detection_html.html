<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LLM Fraud Detection System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #f9fafb;
            color: #231E33;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 24px;
            min-height: 100vh;
        }

        .header {
            margin-bottom: 32px;
        }

        .header-content {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .shield-icon {
            width: 32px;
            height: 32px;
            color: #5009B5;
        }

        .title {
            font-size: 30px;
            font-weight: bold;
            color: #231E33;
        }

        .subtitle {
            color: #6b7280;
            font-size: 18px;
        }

        .tabs {
            margin-bottom: 24px;
            border-bottom: 1px solid #e5e7eb;
        }

        .tab-nav {
            display: flex;
            gap: 32px;
        }

        .tab-button {
            padding: 8px 4px;
            border: none;
            border-bottom: 2px solid transparent;
            background: none;
            font-weight: 500;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
        }

        .tab-button.active {
            border-bottom-color: #5009B5;
            color: #5009B5;
        }

        .tab-button:not(.active) {
            color: #6b7280;
        }

        .tab-button:not(.active):hover {
            color: #374151;
        }

        .card {
            background: white;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 24px;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
        }

        @media (max-width: 768px) {
            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }
        }

        .card-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .claim-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            font-size: 14px;
            margin-bottom: 16px;
        }

        .description-box {
            background: #f9fafb;
            padding: 16px;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            font-size: 14px;
            line-height: 1.5;
        }

        .alert-card {
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 16px;
        }

        .alert-purple {
            background: #EBE4FF;
            border: 1px solid #D1C4E9;
            color: #5009B5;
        }

        .alert-turquoise {
            background: #E0F7FA;
            border: 1px solid #00BEBA;
            color: #00838F;
        }

        .alert-cyan {
            background: #E1F5FE;
            border: 1px solid #00B5F5;
            color: #0277BD;
        }

        .alert-title {
            font-weight: 600;
            margin-bottom: 8px;
        }

        .alert-list {
            font-size: 14px;
            line-height: 1.4;
        }

        .alert-list li {
            margin-bottom: 4px;
        }

        .btn-primary {
            width: 100%;
            background: #5009B5;
            color: white;
            padding: 12px 16px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: opacity 0.2s;
        }

        .btn-primary:hover {
            opacity: 0.9;
        }

        .processing-step {
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
            transition: all 0.3s;
        }

        .processing-step.active {
            border-color: #00B5F5;
            background: #E1F5FE;
        }

        .processing-step.complete {
            border-color: #10B981;
            background: #ECFDF5;
        }

        .step-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .step-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .step-details h3 {
            font-weight: 600;
        }

        .step-details p {
            font-size: 14px;
            color: #6b7280;
        }

        .risk-score {
            padding: 8px 16px;
            border-radius: 8px;
            border: 1px solid;
            font-weight: bold;
            font-size: 20px;
        }

        .risk-high {
            color: #5009B5;
            background: #EBE4FF;
            border-color: #D1C4E9;
        }

        .analysis-card {
            padding: 16px;
            border-radius: 8px;
            border: 1px solid;
        }

        .analysis-purple {
            background: #EBE4FF;
            border-color: #D1C4E9;
        }

        .analysis-turquoise {
            background: #E0F7FA;
            border-color: #00BEBA;
        }

        .analysis-cyan {
            background: #E1F5FE;
            border-color: #00B5F5;
        }

        .analysis-title {
            font-weight: 600;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .metric-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .metric-value {
            font-family: monospace;
            font-weight: bold;
        }

        .code-block {
            background: #281849;
            color: #f3f4f6;
            border-radius: 8px;
            padding: 24px;
            overflow-x: auto;
        }

        .code-block pre {
            font-size: 14px;
            line-height: 1.5;
            font-family: 'Courier New', monospace;
        }

        .hidden {
            display: none;
        }

        .icon {
            width: 20px;
            height: 20px;
        }

        .icon-large {
            width: 24px;
            height: 24px;
        }

        .status-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .status-complete {
            color: #10B981;
        }

        .status-processing {
            color: #00B5F5;
            animation: spin 1s linear infinite;
        }

        .status-pending {
            width: 20px;
            height: 20px;
            border: 2px solid #d1d5db;
            border-radius: 50%;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .recommendation-card {
            background: #EBE4FF;
            border: 1px solid #D1C4E9;
            border-radius: 8px;
            padding: 24px;
            margin-top: 24px;
        }

        .recommendation-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .recommendation-title {
            font-size: 20px;
            font-weight: 600;
            color: #5009B5;
        }

        .recommendation-content {
            color: #5009B5;
        }

        .next-steps {
            background: white;
            border: 1px solid #D1C4E9;
            border-radius: 6px;
            padding: 16px;
            margin-top: 12px;
        }

        .next-steps h4 {
            font-weight: 600;
            margin-bottom: 8px;
        }

        .next-steps ul {
            font-size: 14px;
            line-height: 1.4;
        }

        .next-steps li {
            margin-bottom: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-content">
                <svg class="shield-icon" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/>
                </svg>
                <h1 class="title">LLM Fraud Detection System</h1>
            </div>
            <p class="subtitle">End-to-end implementation demonstrating real-time detection of AI-generated fraudulent insurance claims</p>
        </div>

        <!-- Tab Navigation -->
        <div class="tabs">
            <div class="tab-nav">
                <button class="tab-button active" onclick="showTab('claim')">
                    <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6z"/>
                        <path d="M14 2v6h6M16 13H8M16 17H8M10 9H8"/>
                    </svg>
                    Sample Claim
                </button>
                <button class="tab-button" onclick="showTab('analysis')">
                    <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M9.5 2A7.5 7.5 0 0 0 4 10.5c0 4.5 5.5 11.5 5.5 11.5s5.5-7 5.5-11.5A7.5 7.5 0 0 0 9.5 2zm0 10.5a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"/>
                    </svg>
                    Live Analysis
                </button>
                <button class="tab-button" onclick="showTab('results')">
                    <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M18 20V10M12 20V4M6 20v-6"/>
                    </svg>
                    Detection Results
                </button>
                <button class="tab-button" onclick="showTab('implementation')">
                    <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                    Technical Code
                </button>
            </div>
        </div>

        <!-- Sample Claim Tab -->
        <div id="claim-tab" class="tab-content">
            <div class="grid-2">
                <div class="card">
                    <h2 class="card-title">
                        <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6z"/>
                        </svg>
                        Suspicious Insurance Claim
                    </h2>
                    <div class="claim-details">
                        <div><strong>Claim ID:</strong> CLM-2025-087432</div>
                        <div><strong>Policy:</strong> POL-AUTO-445829</div>
                        <div><strong>Claimant:</strong> Sarah Mitchell</div>
                        <div><strong>Amount:</strong> $12,750</div>
                        <div><strong>Incident Date:</strong> 2025-09-20</div>
                        <div><strong>Claim Date:</strong> 2025-09-22</div>
                    </div>
                    <div>
                        <h3 style="font-weight: 600; margin-bottom: 8px;">Incident Description:</h3>
                        <div class="description-box">
                            On September 20th, 2025, I was driving northbound on Interstate 95 during moderate rain conditions when the incident occurred. At approximately 3:45 PM, I was maintaining a safe following distance of about three car lengths behind a blue sedan. The weather had been intermittently rainy throughout the day, making the road surfaces somewhat slippery.
                            <br><br>
                            As I approached the exit for Route 128, traffic began to slow down considerably due to construction work in the right lane. I reduced my speed accordingly and activated my hazard lights to alert other drivers. The blue sedan in front of me seemed to brake suddenly and more aggressively than the traffic conditions warranted.
                            <br><br>
                            Despite my immediate application of the brakes and attempt to steer slightly to the right shoulder, I was unable to avoid contact with the rear of the vehicle. The impact occurred at what I estimate to be approximately 15-20 mph, causing significant damage to my front bumper, hood, and right headlight assembly.
                        </div>
                    </div>
                    <div style="margin-top: 16px;">
                        <h3 style="font-weight: 600; margin-bottom: 8px;">Attachments:</h3>
                        <ul style="list-style: disc inside; font-size: 14px; color: #6b7280;">
                            <li>damage_front_bumper.jpg</li>
                            <li>police_report_scan.pdf</li>
                            <li>medical_evaluation.pdf</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title">Why This Claim is Suspicious</h2>
                    <div class="alert-card alert-purple">
                        <div class="alert-title">üö® LLM Generation Indicators</div>
                        <ul class="alert-list">
                            <li>‚Ä¢ Unusually low perplexity score (2.34 vs human avg 4.1)</li>
                            <li>‚Ä¢ Consistent sentence lengths and structure</li>
                            <li>‚Ä¢ Overuse of hedging language ("seemed", "appeared")</li>
                            <li>‚Ä¢ Overly precise timeline details</li>
                        </ul>
                    </div>
                    
                    <div class="alert-card alert-turquoise">
                        <div class="alert-title">‚ö†Ô∏è Pattern Anomalies</div>
                        <ul class="alert-list">
                            <li>‚Ä¢ 78% similarity to known fraud template</li>
                            <li>‚Ä¢ 3 similar claims found in database</li>
                            <li>‚Ä¢ Rapid form completion (18min 42sec)</li>
                            <li>‚Ä¢ Evidence of copy-paste behavior</li>
                        </ul>
                    </div>

                    <div class="alert-card alert-cyan">
                        <div class="alert-title">üîç External Data Conflicts</div>
                        <ul class="alert-list">
                            <li>‚Ä¢ Weather: Claim mentions rain, official records show clear skies</li>
                            <li>‚Ä¢ Traffic: No construction activity at claimed location</li>
                            <li>‚Ä¢ Timeline inconsistencies with traffic patterns</li>
                        </ul>
                    </div>

                    <button class="btn-primary" onclick="startAnalysis()">
                        <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M9.5 2A7.5 7.5 0 0 0 4 10.5c0 4.5 5.5 11.5 5.5 11.5s5.5-7 5.5-11.5A7.5 7.5 0 0 0 9.5 2z"/>
                        </svg>
                        Start Fraud Detection Analysis
                    </button>
                </div>
            </div>
        </div>

        <!-- Live Analysis Tab -->
        <div id="analysis-tab" class="tab-content hidden">
            <div class="card">
                <h2 class="card-title">
                    <svg class="icon-large" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M9.5 2A7.5 7.5 0 0 0 4 10.5c0 4.5 5.5 11.5 5.5 11.5s5.5-7 5.5-11.5A7.5 7.5 0 0 0 9.5 2z"/>
                    </svg>
                    Real-Time Fraud Detection Pipeline
                </h2>
                
                <div id="processing-steps">
                    <div class="processing-step" id="step-1">
                        <div class="step-content">
                            <div class="step-info">
                                <div class="status-icon">
                                    <div class="status-pending"></div>
                                </div>
                                <div class="step-details">
                                    <h3>Data Ingestion</h3>
                                    <p>Claim submitted through web portal with attachments</p>
                                </div>
                            </div>
                            <div style="text-align: right;">
                                <div style="font-size: 14px; font-family: monospace; color: #6b7280;">00:00:02</div>
                            </div>
                        </div>
                    </div>

                    <div class="processing-step" id="step-2">
                        <div class="step-content">
                            <div class="step-info">
                                <div class="status-icon">
                                    <div class="status-pending"></div>
                                </div>
                                <div class="step-details">
                                    <h3>LLM Detection</h3>
                                    <p>Analyzing text patterns for AI generation markers</p>
                                </div>
                            </div>
                            <div style="text-align: right;">
                                <div style="font-size: 14px; font-family: monospace; color: #6b7280;">00:00:04</div>
                            </div>
                        </div>
                    </div>

                    <div class="processing-step" id="step-3">
                        <div class="step-content">
                            <div class="step-info">
                                <div class="status-icon">
                                    <div class="status-pending"></div>
                                </div>
                                <div class="step-details">
                                    <h3>Cross-Reference Check</h3>
                                    <p>Comparing against fraud database and similar claims</p>
                                </div>
                            </div>
                            <div style="text-align: right;">
                                <div style="font-size: 14px; font-family: monospace; color: #6b7280;">00:00:03</div>
                            </div>
                        </div>
                    </div>

                    <div class="processing-step" id="step-4">
                        <div class="step-content">
                            <div class="step-info">
                                <div class="status-icon">
                                    <div class="status-pending"></div>
                                </div>
                                <div class="step-details">
                                    <h3>External Validation</h3>
                                    <p>Verifying claim details against third-party data sources</p>
                                </div>
                            </div>
                            <div style="text-align: right;">
                                <div style="font-size: 14px; font-family: monospace; color: #6b7280;">00:00:02</div>
                            </div>
                        </div>
                    </div>

                    <div class="processing-step" id="step-5">
                        <div class="step-content">
                            <div class="step-info">
                                <div class="status-icon">
                                    <div class="status-pending"></div>
                                </div>
                                <div class="step-details">
                                    <h3>Risk Scoring</h3>
                                    <p>Generating composite fraud risk assessment</p>
                                </div>
                            </div>
                            <div style="text-align: right;">
                                <div style="font-size: 14px; font-family: monospace; color: #6b7280;">00:00:01</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="margin-top: 24px; text-align: center;">
                    <button class="btn-primary" style="width: auto; margin: 0 auto;" onclick="startAnalysis()">
                        <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M9.5 2A7.5 7.5 0 0 0 4 10.5c0 4.5 5.5 11.5 5.5 11.5s5.5-7 5.5-11.5A7.5 7.5 0 0 0 9.5 2z"/>
                        </svg>
                        Run Fraud Detection Analysis
                    </button>
                </div>
            </div>
        </div>

        <!-- Detection Results Tab -->
        <div id="results-tab" class="tab-content hidden">
            <div class="card">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 24px;">
                    <h2 class="card-title">
                        <svg class="icon-large" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M18 20V10M12 20V4M6 20v-6"/>
                        </svg>
                        Fraud Detection Results
                    </h2>
                    <div class="risk-score risk-high">
                        Risk Score: 87/100
                    </div>
                </div>

                <div class="grid-3">
                    <div class="analysis-card analysis-purple">
                        <h3 class="analysis-title" style="color: #5009B5;">
                            <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M9.5 2A7.5 7.5 0 0 0 4 10.5c0 4.5 5.5 11.5 5.5 11.5s5.5-7 5.5-11.5A7.5 7.5 0 0 0 9.5 2z"/>
                            </svg>
                            LLM Generation Analysis
                        </h3>
                        <div class="metric-row">
                            <span>AI Confidence:</span>
                            <span class="metric-value">91%</span>
                        </div>
                        <div class="metric-row">
                            <span>Perplexity Score:</span>
                            <span class="metric-value">2.34</span>
                        </div>
                        <div class="metric-row">
                            <span>Burstiness:</span>
                            <span class="metric-value">0.23</span>
                        </div>
                        <div class="metric-row">
                            <span>Avg Sentence Length:</span>
                            <span class="metric-value">22.4</span>
                        </div>
                    </div>

                    <div class="analysis-card analysis-turquoise">
                        <h3 class="analysis-title" style="color: #00838F;">
                            <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                <circle cx="12" cy="12" r="3"/>
                            </svg>
                            Pattern Matching
                        </h3>
                        <div class="metric-row">
                            <span>Similar Claims:</span>
                            <span class="metric-value">3</span>
                        </div>
                        <div class="metric-row">
                            <span>Template Match:</span>
                            <span class="metric-value">78%</span>
                        </div>
                        <div class="metric-row">
                            <span>Weather Pattern:</span>
                            <span class="metric-value">89%</span>
                        </div>
                        <div class="metric-row">
                            <span>Damage Pattern:</span>
                            <span class="metric-value">76%</span>
                        </div>
                    </div>

                    <div class="analysis-card analysis-cyan">
                        <h3 class="analysis-title" style="color: #0277BD;">
                            <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M4 6h16M4 12h16M4 18h16"/>
                            </svg>
                            External Validation
                        </h3>
                        <div>
                            <div class="metric-row">
                                <span>Weather Data:</span>
                                <span class="metric-value" style="color: #5009B5;">CONFLICT</span>
                            </div>
                            <div style="font-size: 12px; color: #6b7280; margin-top: 4px;">Claim: Rainy | Official: Clear</div>
                        </div>
                        <div style="margin-top: 8px;">
                            <div class="metric-row">
                                <span>Traffic Data:</span>
                                <span class="metric-value" style="color: #5009B5;">CONFLICT</span>
                            </div>
                            <div style="font-size: 12px; color: #6b7280; margin-top: 4px;">No construction at location</div>
                        </div>
                        <div class="metric-row" style="margin-top: 8px;">
                            <span>Data Confidence:</span>
                            <span class="metric-value">98%</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="recommendation-card">
                <div class="recommendation-header">
                    <svg style="width: 24px; height: 24px; color: #5009B5;" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2L13.09 8.26L19.24 9.74L13.09 15.74L12 22L10.91 15.74L4.76 9.74L10.91 8.26L12 2Z"/>
                    </svg>
                    <h3 class="recommendation-title">Fraud Investigation Recommended</h3>
                </div>
                <div class="recommendation-content">
                    <p style="margin-bottom: 12px;">
                        <strong>High fraud probability detected (89%).</strong> This claim shows strong indicators of AI-generated content 
                        combined with factual inconsistencies that warrant immediate investigation.
                    </p>
                    <div class="next-steps">
                        <h4>Next Steps:</h4>
                        <ul>
                            <li>Escalate to Senior Fraud Investigation Unit</li>
                            <li>Request additional documentation and evidence</li>
                            <li>Conduct phone interview with claimant</li>
                            <li>Verify incident location with local authorities</li>
                            <li>Cross-check against known fraud networks</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Technical Implementation Tab -->
        <div id="implementation-tab" class="tab-content hidden">
            <div class="card">
                <h2 class="card-title">
                    <svg class="icon-large" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                    Technical Implementation Code
                </h2>
                <div class="code-block">
                    <pre><code>// Core LLM Detection Algorithm Implementation

class LLMFraudDetector {
  constructor() {
    this.perplexityModel = new PerplexityAnalyzer();
    this.linguisticAnalyzer = new LinguisticPatternAnalyzer();
    this.crossReferenceEngine = new FraudCrossReference();
  }

  async detectFraud(claimData) {
    // Step 1: LLM Generation Detection
    const textAnalysis = await this.analyzeLLMGeneration(claimData.description);
    
    // Step 2: Pattern Matching  
    const patternAnalysis = await this.crossReferenceEngine.findSimilarClaims(claimData);
    
    // Step 3: External Validation
    const validationResults = await this.validateExternalData(claimData);
    
    // Step 4: Composite Risk Scoring
    const riskScore = this.calculateRiskScore({
      textAnalysis,
      patternAnalysis, 
      validationResults
    });

    return {
      riskScore,
      fraudProbability: this.convertToprobability(riskScore),
      evidence: this.generateEvidence(textAnalysis, patternAnalysis, validationResults)
    };
  }

  async analyzeLLMGeneration(text) {
    // Perplexity Analysis - Lower scores indicate AI generation
    const perplexityScore = await this.perplexityModel.calculate(text);
    
    // Burstiness Analysis - AI text shows less sentence length variation
    const burstiness = this.calculateBurstiness(text);
    
    // Linguistic Markers
    const linguisticFeatures = await this.linguisticAnalyzer.extract(text);
    
    return {
      perplexityScore,
      burstiness,
      linguisticFeatures,
      aiProbability: this.calculateAIProbability(perplexityScore, burstiness, linguisticFeatures)
    };
      }
}
</code></pre>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 0;
        let isProcessing = false;

        // Tab management
        function showTab(tabName) {
            // Hide all tabs
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.add('hidden'));

            // Remove active class from all buttons
            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(btn => btn.classList.remove('active'));

            // Show selected tab
            document.getElementById(tabName + '-tab').classList.remove('hidden');
            
            // Add active class to clicked button
            event.target.closest('.tab-button').classList.add('active');
        }

        // Processing animation
        function startAnalysis() {
            if (isProcessing) return;
            
            isProcessing = true;
            currentStep = 0;
            
            // Reset all steps
            for (let i = 1; i <= 5; i++) {
                const step = document.getElementById('step-' + i);
                step.classList.remove('active', 'complete');
                const statusIcon = step.querySelector('.status-icon');
                statusIcon.innerHTML = '<div class="status-pending"></div>';
            }

            // Switch to analysis tab
            showAnalysisTab();

            // Start processing animation
            processNextStep();
        }

        function showAnalysisTab() {
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.add('hidden'));
            document.getElementById('analysis-tab').classList.remove('hidden');

            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(btn => btn.classList.remove('active'));
            buttons[1].classList.add('active'); // Analysis tab
        }

        function processNextStep() {
            if (currentStep > 0) {
                // Mark previous step as complete
                const prevStep = document.getElementById('step-' + currentStep);
                prevStep.classList.remove('active');
                prevStep.classList.add('complete');
                const prevIcon = prevStep.querySelector('.status-icon');
                prevIcon.innerHTML = '<svg class="icon status-complete" fill="currentColor" viewBox="0 0 24 24"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>';
            }

            currentStep++;

            if (currentStep <= 5) {
                // Mark current step as active
                const currentStepEl = document.getElementById('step-' + currentStep);
                currentStepEl.classList.add('active');
                const currentIcon = currentStepEl.querySelector('.status-icon');
                currentIcon.innerHTML = '<svg class="icon status-processing" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"/></svg>';

                // Continue to next step after delay
                setTimeout(processNextStep, 1500);
            } else {
                // Processing complete
                isProcessing = false;
                
                // Show results tab after a short delay
                setTimeout(() => {
                    showResultsTab();
                }, 500);
            }
        }

        function showResultsTab() {
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.add('hidden'));
            document.getElementById('results-tab').classList.remove('hidden');

            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(btn => btn.classList.remove('active'));
            buttons[2].classList.add('active'); // Results tab
        }

        // Add click handlers for tab buttons
        document.addEventListener('DOMContentLoaded', function() {
            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach((button, index) => {
                button.addEventListener('click', function() {
                    const tabNames = ['claim', 'analysis', 'results', 'implementation'];
                    showTab(tabNames[index]);
                });
            });
        });
    </script>
</body>
</html>

// Blockchain Integration for Immutable Audit Trail
class BlockchainAuditTrail {
  constructor() {
    this.web3 = new Web3(process.env.ETHEREUM_RPC_URL);
    this.contract = new this.web3.eth.Contract(FRAUD_DETECTION_ABI, CONTRACT_ADDRESS);
  }

  async recordFraudAssessment(claimId, riskScore, evidence) {
    const transaction = await this.contract.methods.recordAssessment(
      claimId,
      riskScore,
      this.hashEvidence(evidence),
      Date.now()
    ).send({ from: ASSESSOR_ADDRESS });
    
    return transaction.transactionHash;
  }
}

// Real-time Processing Pipeline
class RealTimeFraudPipeline {
  constructor() {
    this.detector = new LLMFraudDetector();
    this.blockchain = new BlockchainAuditTrail();
    this.notificationSystem = new FraudAlertSystem();
  }

  async processClaim(claimData) {
    const startTime = Date.now();
    
    try {
      // Parallel processing for speed
      const [fraudAnalysis, crossRefResults, externalValidation] = await Promise.all([
        this.detector.detectFraud(claimData),
        this.crossReferenceEngine.analyze(claimData),
        this.externalValidator.validate(claimData)
      ]);

      const result = {
        ...fraudAnalysis,
        processingTime: Date.now() - startTime,
        timestamp: new Date().toISOString()
      };

      // Record on blockchain for immutability
      await this.blockchain.recordFraudAssessment(
        claimData.claimId, 
        result.riskScore, 
        result.evidence
      );

      // High-risk claims trigger immediate alerts
      if (result.riskScore >= 70) {
        await this.notificationSystem.alertFraudInvestigators(claimData, result);
      }

      return result;
    } catch (error) {
      console.error('Fraud detection pipeline error:', error);
      throw error;
    }
  }
}